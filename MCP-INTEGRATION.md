# MCP 集成说明

## 🎉 功能介绍

您的 Electron APP 现在支持两种浏览器控制模式：

### 1. 🎯 直接控制模式（默认）

- **特点**: 简单快速，基础功能
- **功能**: 打开网页、百度搜索
- **登录**: 独立模式（每次全新）
- **适用**: 快速测试、简单自动化

### 2. 🚀 MCP 专业模式（推荐）

- **特点**: 专业完整，26 个工具
- **功能**:
  - ✅ 所有直接模式功能
  - ✅ 点击、拖拽、填表单
  - ✅ 性能分析、网络监控
  - ✅ 截图、脚本执行
  - ✅ **自动保留登录状态**
- **登录**: 只需登录一次，永久保留
- **适用**: 需要登录的网站、复杂自动化

## 🚀 如何使用

### 启动 MCP 模式

1. **打开 Electron APP**
2. **选择 "🚀 MCP 专业模式"**
3. **点击 "🚀 启动 Chrome 调试模式"**
4. **等待 3 秒，显示成功**

### 测试登录保留

1. **在打开的 Chrome 中登录任何网站**（如：数智浙建）
2. **关闭 APP 或停止 Chrome**
3. **重新启动 MCP 模式**
4. **访问同一网站** - 无需重新登录！✅

### 配合 Cursor MCP 使用

启动 MCP 模式后，您可以直接在 Cursor 中使用：

\`\`\`
打开淘宝搜索帽子
\`\`\`

\`\`\`
打开 https://szzj.hibuilding.cn/layouts/zhaocaivideo
\`\`\`

Cursor 会自动连接到 MCP 启动的 Chrome！

## 📊 两种模式对比

| 功能     | 直接控制模式 | MCP 专业模式 |
| -------- | ------------ | ------------ |
| 打开网页 | ✅           | ✅           |
| 搜索     | ✅           | ✅           |
| 保留登录 | ❌           | ✅           |
| 表单填写 | ❌           | ✅           |
| 性能分析 | ❌           | ✅           |
| 截图     | ❌           | ✅           |
| 脚本执行 | ❌           | ✅           |

## 🔧 技术细节

### MCP 数据目录

登录信息保存在：
\`\`\`
~/.cache/chrome-devtools-mcp/chrome-profile/
\`\`\`

### MCP 配置

APP 使用以下配置启动 MCP：
\`\`\`
--channel=stable # 使用普通 Chrome
--headless=false # 显示浏览器界面
--isolated=false # 保留用户数据
\`\`\`

## 🎯 最佳实践

1. **日常使用**：推荐使用 MCP 专业模式
2. **首次使用**：需要手动登录一次网站
3. **后续访问**：自动使用已保存的登录状态
4. **配合 Cursor**：可以用自然语言控制浏览器

## 🆘 常见问题

**Q: MCP 模式启动失败？**
A: 确保 `chrome-devtools-mcp` 已安装：`npm install`

**Q: 登录状态没有保留？**
A: 检查是否使用了 MCP 模式（不是直接控制模式）

**Q: 如何清除登录数据？**
A: 删除目录 `~/.cache/chrome-devtools-mcp/`

## 🎉 享受使用！

现在您可以让用户安装您的 APP，就能直接享受完整的浏览器自动化功能，无需额外配置！
